# 서비스 거부 공격(DoS, DDoS)

- 서비스 거부 공격(DoS)

  - 취약점 공격형: 특정 형태의 오류를 발생시키는 패킷을 활용해 오작동을 유발하는 형태
    - 보잉크/봉크/티어드롭 공격, 랜드 공격
  - 자원 고갈 공격형: 네트워크 대역폭, CPU, session 등의 자원을 소모시키는 형태

## DoS 공격

- 보잉크/봉크/티어드롭 공격

  - 프로토콜의 오류 제어 로직을 악용해 시스템 자원을 고갈시키는 방식
  - TCP는 패킷 순서 확인, 중간 손실 패킷 점검, 손실 패킷의 재전송을 요규하는데, 보잉크, 봉크, 티어드롭 공격은 반복적인 재요청과 수정을  
    계속함으로써 시스템 자원을 고갈시키는 방식이다.
  - 티어드롭 공격: 패킷의 sequence number와 길이를 조작한다.
  - 랜드 공격: source IP와 destination IP를 동일하게, port 번호도 동일하게 설정한 SYN packet을 공격 대상에게 보낸다.  
    이는 마치 SYN Flooding과 같이 CPU 부하 등을 일으켜 시스템을 마비시키는 효과를 낸다.

- Ping of Death 공격: 공격 대상에게 패킷을 보낼 때, 최대한 길게 보내 쪼개어지게 만들고, 공격 받는 시스템이 대량의 작은 패킷을  
  수신하느라 네트워크가 마비되도록 한다.

  - 대응책: 방화벽에서 ICMP 패킷을 필터링

- SYN Flooding 공격: TCP의 3-way handshake의 문제점을 악용한 것으로, 대량의 SYN packet을 전송해 공격 대상이  
  대량의 SYN/ACK 패킷을 보내도록 해 마비시킨다.

  - 대응책: SYN received의 대기시간 축소

- HTTP GET Flooding 공격: HTTP GET 요청을 대량으로 보내 서버의 자원을 고갈시키는 공격

- HTTP CC 공격: HTTP header의 `Cache-Control`의 값을 `no-store, must-revalidate` 등을 설정해 웹 서버가 캐시를  
  사용하지 않고 응답하도록 해 웹 서비스의 부하를 증가시킨다.

- Slow HTTP Post 공격: 웹 서버와의 connection을 최대한 오래 유지해 웹 서버가 더 이상의 connection을 받지 못하도록 하는 공격

- Smurf 공격: 위조된 source IP address를 가지는 패킷을 만들어 direct broadcast를 수행(ICMP echo request)한다.  
  그러면 공격 대상에게 대량의 ICMP Reply 패킷이 전송되어 네트워크가 마비되도록 한다.

  - 대응책: router 단에서 direct broadcast를 차단

---

## 분산 서비스 거부 공격(DDoS)

- DoS와는 달리 여러 개의 분산된 시스템을 이용해 서비스 거부 공격을 수행한다.

---

- ARP Spoofing 공격

  - ARP Spoofing: MAC 주소를 속이는 것.
  - 예시: 3개의 컴퓨터가 있고, 서버는 `IP: 10.0.0.2, MAC: AA`, 공격자는 `IP: 10.0.0.4, MAC: CC`,  
    클라이언트는 `IP:10.0.0.3, MAC: BB`라고 해보자. 여기서 공격자가 서버에게 `10.0.0.3`의 MAC 주소가 CC, 클라이언트에게  
    `10.0.0.2`의 MAC 주소가 CC라고 알리게 되면, 서버와 클라이언트는 각각 공격자에게 packet을 보내게 된다.  
    따라서 공격자가 패킷을 읽고, 변조해 전달할 수 있게 된다.

- IP Spoofing 공격

  - IP Spoofing: IP 주소를 속이는 것.
  - IP spoofing 공격이 가능하려면 trust(신뢰 관계)를 설정해둬야 한다.
  - 대응책: trust 관계를 설정하지 않는다.

- DNS Spoofing 공격:

  - 실제 DNS server보다 빠르게 공격 대상에게 DNS response packet을 보내 공격 대상이 잘못된 IP 주소에 접근하도록 하는 공격
  - 대응책: hosts 파일에 중요 서버에 대한 DNS query를 보내지 않도록 미리 IP 주소를 설정해둔다.

---

## 무선 네트워크 공격과 보안

- AP 보안: 물리적인 보안 및 관리자 비밀번호 변경
- SSID broadcasting 금지
- WEP 대신 WPA 사용
