# Docker

- Docker는 linux container에 여러 기능을 추가함으로써 애플리케이션을 컨테이너로서 좀 더 쉽게 사용할 수 있게 만들어진  
  오픈소스 프로젝트이다.

## VM과 Docker container

- 기존의 가상화 기술은 hypervisor를 이용해 여러 개의 OS를 하나의 host에서 생성해 사용하는 방식이었다.  
  이러한 여러 개의 OS들은 VM이라는 단위로 구별되고, 각 VM에는 Ubuntu, CentOS 등의 OS가 설치되어 사용된다.  
  Hypervisor에 의해 생성되고 관리되는 OS는 Guest OS라고 하며, 각 guest OS는 다른 guest OS와는 완전히 독립된 공간과  
  시스템 자원을 할당받아 사용한다. 이러한 가상화 방식을 사용할 수 있는 대표적인 가상화 도구로 VMWare, VirtualBox 등이 있다.

  ![picture 117](/images/DK_1_1.png)

- 그러나 각종 시스템 자원을 가상화하고 독립된 공간을 생성하는 작업은 hypervisor를 반드시 거쳐야하기 때문에 일반 host에 비해 성능의  
  손실이 발생한다. 뿐만 아니라 VM은 guest OS를 사용하기 위한 라이브러리, 커널 등을 전부 포함하기 때문에 VM을 배포하기 위한 이미지로  
  만들었을 때 이미지의 크기도 커진다. 즉 VM은 완벽한 OS를 생성할 수 있다는 장점은 있지만 일반 host에 비해 성능 손실이 있을 수 있으며  
  수 GB에 달하는 VM image를 애플리케이션으로 배포하기에는 부담스럽다는 단점이 있다.

- 이에 비해 dockeer container는 가상화된 공간을 생성하기 위해 linux의 자체 기능인 chroot, namespace, cgroup을 사용함으로써  
  프로세스 단위의 격리 환경을 만들기 때문에 성능 손실이 거의 없다. 컨테이너에 필요한 커널은 host의 커널을 공유해 사용하고, 컨테이너 안에는  
  애플리케이션을 구동하는 데 필요한 라이브러리 및 실행 파일만 존재하기 때문에 컨테이너를 이미지로 만들었을 때 이미지의 크기 또한 VM에 비해  
  대폭 줄어든다. 따라서 컨테이너를 이미지로 만들어 배포하는 시간이 VM에 비해 빠르며 가상화된 공간을 사용할 때의 성능 손실도 거의 없다는  
  장점이 있다.

---
