# 웹 보안

## 웹 해킹

### 웹 프록시를 이용한 취약점 분석

- 웹 해킹에 사용되는 프록시는 클라이언트에 설치되고, 클라이언트의 통제를 받는다.
- Proxy가 서버와 클라이언트 사이의 모든 packet을 확인하고, 수정할 수 있다.

### 구글을 이용한 정보 수집

- 주요 검색 인자: `site`(예시: `site:a.com searchKeyword`)
- 파일 확장자: `filetype`(예시: `filetype:txt password`)
- 디렉토리 리스팅이 가능한 사이트 검색: `intitle`(예시: `intitle:index.of searchKeyword`)

## 웹의 취약점과 보안

### 명령 삽입 취약점(injection)

- 특정 명령을 실행하는 코드를 적절히 골라내지 못하면 삽입 공격에 대한 취약점이 발생한다.
- SQL injdection 등이 있다.

### 인증 및 세션 관리 취약점(Broken authentication and session management)

- 취약한 패스워드 설정으로 인한 취약점 발생.
- 사용자 데이터를 이용한 인증

  - 누군가가 사용자 데이터로 인증하고 나서 받은 인증 허용 값(crednetial)을 공격자가 그대로 이용해 마치 자신이 인증한 것처럼 사용하는 것.

### XSS 취약점(Cross-site scripting)

- XSS: 공격자가 작성한 스크립트가 다른 사용자에게 전달되는 것.

  - 다른 사용자의 웹 브라우저 내에서 실행되기에 세션 탈취도 가능하고, 웹 사이트의 변조 및 악의적인 사이트로의 이동이 가능하다.

### 취약한 접근 제어(Broken access control)

- 인증된 사용자가 수행할 수 있는 행위에 대한 제한을 제대로 정의하지 않은 경우 발생(ex. 관리자 작업 수행)
- 인증 우회를 막기 위해 중요 페이지에 세션 값(쿠키)를 확인하는 검증 로직을 둬야 한다.

### 보안 설정 오류(Security misconfiguration)

- 디렉토리 리스팅: 웹 브라우저에서 웹 서버의 특정 디렉토리를 열면, 해당 디렉토리에 있는 파일과 목록이 모두 나열되는 것.
- 대표적인 보안 설정 오류의 원인들:

  - 백업 및 임시 파일 존재
  - 미흡한 주석 관리
  - 파일 업로드 크기 제한 부재

- Reverse telnet

  - `공격자 <-> 서버 방화벽 <-> 서버`의 구조가 있을 때, 공격자의 PC에 telnet이 열려있고, 방화벽의 outbound 정책이 열려있다면  
    웹 서버에서 공격자의 PC로 telnet을 사용한 접근이 가능하다.

### 민감한 데이터 노출(Sensitive data exposure)

- 민감 데이터를 보호하지 않는 문제 -> 암호화 해야함.

### 공격 방어 취약점(Insufficient Attack Protection)

- 해킹 공격의 탐지, 방지, 대응책 부재

### CSRF(Cross-site request forgery)

- CSRF: 특정 사용자를 대상으로 하지 않고, 불특정 다수를 대상으로 하는 공격으로 인증된 사용자가 자신의 의지와 무관하게  
  공격자가 의도한 행위를 하게 만든다.

- XSS와 유사하지만, XSS는 악성 스크립트가 사용자의 클라이언트단에서 실행되는 반면, CSRF는 사용자가 악성 스크립트를 서버에 요청하게 한다.

### 취약점 있는 컴포넌트 사용(Using components with known vulnerabilities)

### 취약한 API(Underprotected APIs)
